# set compiler macro
COMM_COPTS =-D_PRE_PRODUCT_ID_WITP=0
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1151=1 
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1152=2 
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1102_DEV=3 
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1102_HOST=4
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1103_DEV=5
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1103_HOST=6
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1105_DEV=7
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1105_HOST=8
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI1106_DEV=9
COMM_COPTS +=-D_PRE_PRODUCT_ID=_PRE_PRODUCT_ID_HI1103_HOST
COMM_COPTS +=-D_PRE_PRODUCT_ID_HI110X_HOST
ifdef _PRE_PRODUCT_VERSION
COMM_COPTS +=-D_PRE_PRODUCT_VERSION=$(_PRE_PRODUCT_VERSION)
endif

ifeq ($(BOARD_TYPE), SD5115)
COMM_COPTS +=-D_PRE_BOARD_SD5115
endif

COMM_COPTS +=-DHISI_TOP_LOG_DIR=\"/data/vendor/log\" -DHISI_WIFI_MISC_TOP_DIR=\"/data/vendor\"

COMM_COPTS +=-D_PRE_CONFIG_HW_CHR
COMM_COPTS +=-D_PRE_OS_VERSION_LINUX=0
COMM_COPTS +=-D_PRE_OS_VERSION_WIN32=1
COMM_COPTS +=-D_PRE_OS_VERSION_WINDOWS=2
COMM_COPTS +=-D_PRE_OS_VERSION_RAW=3
COMM_COPTS +=-D_PRE_OS_VERSION_HiRTOS=4
COMM_COPTS +=-D_PRE_OS_VERSION_WIN32_RAW=5
COMM_COPTS +=-D_PRE_OS_VERSION=_PRE_OS_VERSION_LINUX
COMM_COPTS +=-D_PRE_WLAN_FEATURE_TXOPPS

ifndef DBG_ALG_ENABLE
export DBG_ALG_ENABLE=n
endif

ifeq ($(CONFIG_HI110X_KERNEL_MODULES_BUILD_SUPPORT), yes)
$(warning hisi build modules $(CONFIG_HI110X_KERNEL_MODULES_BUILD_SUPPORT))
COPTS +=-DCONFIG_HI110X_KERNEL_MODULES_BUILD_SUPPORT
else
$(warning hisi built-in $(CONFIG_HI110X_KERNEL_MODULES_BUILD_SUPPORT))
endif

ifeq ($(DBG_ALG_ENABLE), y)
COPTS +=-D_PRE_WLAN_ALG_ENABLE
COPTS +=-D_PRE_WLAN_FEATURE_AUTORATE
COPTS +=-D_PRE_WLAN_FEATURE_SCHEDULE
COPTS +=-D_PRE_WLAN_FEATURE_TRAFFIC_CTL
COPTS +=-D_PRE_WLAN_FEATURE_FLOWCTL
COPTS +=-D_PRE_WLAN_FEATURE_MVAP_SCH
COPTS +=-D_PRE_WLAN_PERFORM_STAT
COPTS +=-D_PRE_WLAN_FEATURE_TXBF

COPTS +=-D_PRE_SUPPORT_FCS
COPTS +=-D_PRE_WLAN_FEATURE_DBAC
COPTS +=-D_PRE_DBAC_DYNAMIC_POLICY

#COPTS +=-D_PRE_SUPPORT_SCANNER
#COPTS +=-D_PRE_SUPPORT_ACS
#COPTS +=-D_PRE_SUPPORT_DFS

else

endif
COPTS +=-D_PRE_WLAN_FEATURE_TPC_OPT
#COPTS +=-D_PRE_WLAN_FEATURE_160M
COPTS +=-D_PRE_WLAN_FEATURE_11AC_20M_MCS9
#COPTS +=-D_PRE_WLAN_FEATURE_PSD_ANALYSIS

ifndef RELEASE_TYPE
export RELEASE_TYPE=RELEASE
endif

ifeq ($(RELEASE_TYPE), PROFILE)
COPTS +=-D_PRE_WLAN_PROFLING_MIPS
endif

#packet time debug
ifneq ($(CONFIG_HI110X_KERNEL_MODULES_BUILD_SUPPORT), yes)
ifdef CONFIG_WIFI_DELAY_STATISTIC
COPTS +=-D_PRE_WLAN_PKT_TIME_STAT
endif
endif

#add for pruduct type
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_5610EVB=0
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_5610DMB=1
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_1102COMMON=2
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_VSPM310DMB=3
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_WS835DMB=4
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_E5=5
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_ONT=6
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_5630HERA=7
COMM_COPTS +=-D_PRE_TARGET_PRODUCT_TYPE_CPE=8
COMM_COPTS +=-D_PRE_CONFIG_TARGET_PRODUCT=_PRE_TARGET_PRODUCT_TYPE_1102COMMON

#COMM_COPTS +=-D_PRE_WLAN_FRW_SIMPLE_SCHED
COPTS +=-D_PRE_FRW_FEATURE_PROCCESS_ENTITY_THREAD=0
COPTS +=-D_PRE_FRW_FEATURE_PROCCESS_ENTITY_TASKLET=1

ifndef _PRE_FRW_FEATURE_PROCCESS_ENTITY_TYPE
COPTS +=-D_PRE_FRW_FEATURE_PROCCESS_ENTITY_TYPE=_PRE_FRW_FEATURE_PROCCESS_ENTITY_THREAD
endif

COPTS +=-D_PRE_PMF_NOT_SUPPORT=0
COPTS +=-D_PRE_PMF_HW_CCMP_SW_BIP=1
COPTS +=-D_PRE_PMF_HW_CCMP_BIP=2
COPTS +=-D_PRE_WLAN_FEATURE_PMF=_PRE_PMF_HW_CCMP_BIP

COPTS +=-D_PRE_WLAN_FEATURE_TPC_TX_DSCR_BIT8=0
COPTS +=-D_PRE_WLAN_FEATURE_TPC_TX_DSCR_BIT20=1
COPTS +=-D_PRE_WLAN_FEATURE_TPC_TX_DSCR_BITX=_PRE_WLAN_FEATURE_TPC_TX_DSCR_BIT20

ifndef CHIP_VERSION
#default choose asic
export CHIP_VERSION=ASIC
endif

COPTS +=-D_PRE_WLAN_CHIP_FPGA_HI1101RF=0
COPTS +=-D_PRE_WLAN_CHIP_UT=1
COPTS +=-D_PRE_WLAN_CHIP_ASIC=2
COPTS +=-D_PRE_WLAN_CHIP_FPGA=3

ifeq ($(CHIP_VERSION), FPGA1101RF)
COPTS +=-D_PRE_WLAN_CHIP_VERSION=_PRE_WLAN_CHIP_FPGA_HI1101RF
else ifeq ($(CHIP_VERSION), FPGA1151RF)
COPTS +=-D_PRE_WLAN_CHIP_VERSION=_PRE_WLAN_CHIP_FPGA_HI1151RF
else ifeq ($(CHIP_VERSION), ASIC)
COPTS +=-D_PRE_WLAN_CHIP_VERSION=_PRE_WLAN_CHIP_ASIC
endif

COPTS +=-D_PRE_WLAN_FEATURE_ROAM

COPTS +=-D_PRE_CONFIG_CONN_HISI_SYSFS_SUPPORT
COPTS +=-D_PRE_CONFIG_HISI_PANIC_DUMP_SUPPORT
COPTS +=-D_PRE_CONFIG_WLAN_THRANS_THREAD_DEBUG
COPTS +=-D_PRE_CONFIG_HISI_CONN_SOFTWDFT

#frw event serial trace
COPTS +=-D_PRE_FRW_EVENT_PROCESS_TRACE_DEBUG

COPTS +=-D_PRE_OAL_FEATURE_TASK_NEST_LOCK

#record the key information occur
COPTS +=-D_PRE_OAL_FEATURE_KEY_PROCESS_TRACE

COPTS +=-DCONFIG_SPIN_LOCK_MAGIC_DEBUG
#customize
COPTS +=-D_PRE_PLAT_FEATURE_CUSTOMIZE

#TAS
COPTS +=-D_PRE_WLAN_FEATURE_TAS_ANT_SWITCH
COPTS +=-D_PRE_WLAN_FEATURE_FULL_QUAN_PROD_CAL

COPTS +=-D_PRE_WLAN_FEATURE_DFR

COPTS +=-D_PRE_FRW_TIMER_BIND_CPU

COPTS +=-D_PRE_WLAN_FEATURE_DATA_SAMPLE
#DBDC support
COPTS +=-D_PRE_WLAN_FEATURE_DBDC

#COPTS +=-D_PRE_WLAN_RF_AUTOCALI
COPTS +=-D_PRE_WLAN_DOWNLOAD_PM

#kernel support PCI driver
ifdef CONFIG_PCI
COPTS +=-D_PRE_PLAT_FEATURE_HI110X_PCIE -D_PRE_PLAT_FEATURE_HI110X_PCIE_DEBUG -D_PRE_PLAT_FEATURE_PCIE_DEVICE_STAT
COPTS +=-D_PRE_PLAT_FEATURE_HI110X_PCIE_FIFO_ADDRESS
ifdef CONFIG_ARCH_KIRIN_PCIE
COPTS +=-D_PRE_PLAT_FEATURE_HI110X_DUAL_PCIE
endif
endif

#move from wifi config 
COPTS +=-D_PRE_WLAN_WAKEUP_SRC_PARSE

#COPTS +=-D_PRE_WLAN_FEATURE_LOCATION

#COPTS +=-D_PRE_WLAN_FEATURE_SPECIAL_PKT_LOG

COPTS +=-D_PRE_PLAT_FEATURE_HI110X_SDIO_GPIO_WAKE

#MBO
COPTS +=-D_PRE_WLAN_FEATURE_MBO

ifeq (Hi3751, $(findstring Hi3751,$(TARGET_DEVICE)))
TARGET_DEVICE_HI375X = y
endif

ifeq (v818, $(findstring v818,$(TARGET_DEVICE)))
TARGET_DEVICE_HI375X = y
COPTS += -D_PRE_PRODUCT_HI3751_PLATO
endif

ifeq ($(CONFIG_PANGU_WIFI_DEVICE_HI110X), y)
TARGET_PRODUCT_PC = y
COPTS +=-DCONFIG_HI1102_PLAT_HW_CHR
COPTS +=-D_PRE_PRODUCT_HI1620S_KUNPENG
COPTS +=-D_PRE_CONFIG_ARCH_HI1620S_KUNPENG_PCIE
#ini info print rank error to debug
COPTS +=-D_PRE_CONFIG_INI_PRINT_ERROR_TO_DEBUG
COPTS +=-DCONFIG_HWCONNECTIVITY_PC
COPTS +=-D_PRE_CONFIG_PCIE_SHARED_INTX_IRQ
endif

ifeq ($(CONFIG_ARMPC_WIFI_DEVICE_HI110X), y)
TARGET_PRODUCT_PC = y
ifdef CONFIG_ARCH_HISI
COPTS +=-D_PRE_HISI_BINDCPU
endif
#PC s3 hci dev opt
COPTS +=-D_PRE_CONFIG_S3_HCI_DEV_OPT
COPTS +=-D_PRE_CONFIG_ARCH_KIRIN_S4_FEATURE
COPTS +=-D_PRE_PRODUCT_ARMPC
COPTS +=-DCONFIG_HWCONNECTIVITY_PC
COPTS +=-D_PRE_PLAT_FEATURE_SDIO_REPOWER
COPTS +=-D_PRE_WLAN_FEATURE_DYN_CLOSED
endif

ifeq ($(TARGET_DEVICE_HI375X), y)
#TV PRODUCTS
COPTS += -DCONFIG_HI1102_PLAT_HW_CHR
COPTS += -DCONFIG_HI110X_SDIO_STD_CARD_SUPPORT
COPTS += -DCONFIG_ARCH_KIRIN_PCIE
COPTS += -D_PRE_H2D_GPIO_WKUP
COPTS += -D_PRE_NO_HISI_NVRAM
COPTS += -D_PRE_HI375X_LDISC
COPTS += -D_PRE_HI375X_PCIE
COPTS += -D_PRE_HI375X_NO_DTS
COPTS += -D_PRE_HI375X_SDIO
COPTS += -D_PRE_HOST_SUSPEND_UART_POWERDOWN
COPTS += -D_PRE_PRODUCT_HI3751V811
COPTS += -D_PRE_CONFIG_READ_DYNCALI_E2PROM
COPTS += -D_PRE_PRINT_OAM_LOG_LEVEL_ERROR
COPTS += -D_PRE_UART_PRINT_LOG
COPTS += -D_PRE_CONFIG_INI_PRINT_ERROR_TO_DEBUG
COPTS += -D_PRE_SUSPORT_OEMINFO
COPTS += -D_PRE_SUSPEND_AP

else ifeq ($(TARGET_PRODUCT_PC), y)
#PC PRODUCTS
COPTS +=-D_PRE_CONFIG_READ_DYNCALI_E2PROM
COPTS +=-D_PRE_CONFIG_HISI_S3S4_POWER_STATE
COPTS +=-D_PRE_CONFIG_HISIFASTPOWER_DOWN_STATE
COPTS +=-D_PRE_CONFIG_HISI_110X_DISABLE_HISILICON0
COPTS +=-D_PRE_NO_HISI_NVRAM
COPTS +=-D_PRE_CONFIG_READ_E2PROM_MAC
#PC BLUEZ
COPTS +=-D_PRE_CONFIG_HISI_110X_BLUEZ
#config NAPI dynamic switch for performence
COPTS +=-D_PRE_CONFIG_NAPI_DYNAMIC_SWITCH
#config NAPI for performence
#COPTS +=-D_PRE_CONFIG_HISI_110X_NAPI_DISABLE
COPTS +=-D_PRE_WLAN_RR_PERFORMANCE
#PC country code
COPTS +=-D_PRE_WLAN_COUNTRYCODE_SELFSTUDY
#PC network card information
COPTS +=-D_PRE_WLAN_FEATURE_PC_KK_DEMAND
#RR performence debug
#COPTS +=-D_PRE_WLAN_RR_PERFORMENCE_DEBUG
COPTS +=-D_PRE_UART_PRINT_LOG
COPTS +=-D_PRE_BFGX_CALI

else
#PC and tv not support, phone support

COPTS +=-D_PRE_WLAN_FEATURE_11AX
#rx listen power saving
COPTS +=-D_PRE_WLAN_RX_LISTEN_POWER_SAVING

COPTS +=-D_PRE_SHARE_BUCK_SURPORT
#5GNRCOEX
COPTS +=-D_PRE_WLAN_FEATURE_NRCOEX
ifdef CONFIG_ARCH_HISI
COPTS +=-D_PRE_HISI_BINDCPU
endif
endif

COPTS +=-D_PRE_SDIO_TAE_DEBUG

#Pangu not support, other products support
ifneq ($(CONFIG_PANGU_WIFI_DEVICE_HI110X), y)
COPTS +=-D_PRE_FEATURE_PLAT_LOCK_CPUFREQ
endif

#tty close for adapet 32k idle mode
ifdef CONFIG_HISI_IDLE_SLEEP
COPTS +=-D_PRE_PM_TTY_OFF
endif
